{# filepath: /c:/Users/Dev404/Documents/foot_connect/FOOT_CONNECT/templates/warning/show.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Détails de l'avertissement{% endblock %}

{% block stylesheets %}
{{ parent() }}
<style>
    @keyframes apparition {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes glissementDroit {
        from { opacity: 0; transform: translateX(20px); }
        to { opacity: 1; transform: translateX(0); }
    }
    
    @keyframes pulsation {
        0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); }
        70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
        100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
    }
    
    .dark @keyframes pulsation {
        0% { box-shadow: 0 0 0 0 rgba(96, 165, 250, 0.4); }
        70% { box-shadow: 0 0 0 10px rgba(96, 165, 250, 0); }
        100% { box-shadow: 0 0 0 0 rgba(96, 165, 250, 0); }
    }
    
    @keyframes brillance {
        0% { background-position: -200% 0; }
        100% { background-position: 200% 0; }
    }
    
    .animation-apparition {
        animation: apparition 0.6s ease-out forwards;
        opacity: 0;
    }
    
    .animation-glissement {
        animation: glissementDroit 0.5s ease-out forwards;
        opacity: 0;
    }
    
    .delai-1 { animation-delay: 0.1s; }
    .delai-2 { animation-delay: 0.2s; }
    .delai-3 { animation-delay: 0.3s; }
    .delai-4 { animation-delay: 0.4s; }
    
    .carte-survol {
        transition: all 0.3s ease;
    }
    
    .carte-survol:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    .dark .carte-survol:hover {
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
    }
    
    .bouton-primaire {
        background: linear-gradient(45deg, #3b82f6, #60a5fa);
        transition: all 0.3s ease;
    }
    
    .bouton-primaire:hover {
        background: linear-gradient(45deg, #2563eb, #3b82f6);
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(59, 130, 246, 0.3);
    }
    
    .dark .bouton-primaire {
        background: linear-gradient(45deg, #3b82f6, #60a5fa);
    }
    
    .dark .bouton-primaire:hover {
        background: linear-gradient(45deg, #2563eb, #3b82f6);
        box-shadow: 0 10px 15px -3px rgba(59, 130, 246, 0.5);
    }
    
    .bouton-danger {
        background: linear-gradient(45deg, #ef4444, #f87171);
        transition: all 0.3s ease;
    }
    
    .bouton-danger:hover {
        background: linear-gradient(45deg, #dc2626, #ef4444);
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(239, 68, 68, 0.3);
    }
    
    .dark .bouton-danger {
        background: linear-gradient(45deg, #dc2626, #ef4444);
    }
    
    .dark .bouton-danger:hover {
        background: linear-gradient(45deg, #b91c1c, #dc2626);
        box-shadow: 0 10px 15px -3px rgba(239, 68, 68, 0.5);
    }
    
    .effet-brillance {
        background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0) 100%);
        background-size: 200% 100%;
        animation: brillance 2.5s infinite;
    }
    
    .dark .effet-brillance {
        background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0) 100%);
    }
</style>
{% endblock %}

{% block body %}
<div class="bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 min-h-screen py-8 px-4 transition-colors duration-200">
    <div class="container mx-auto max-w-3xl">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden carte-survol animation-apparition transition-colors duration-200">
            <!-- En-tête -->
            <div class="relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 effet-brillance transition-colors duration-200"></div>
                <div class="relative px-6 py-5 flex justify-between items-center">
                    <h1 class="text-2xl font-bold text-white flex items-center justify-center w-full">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                        </svg>
                        Détails de l'avertissement
                    </h1>
                    <div class="flex space-x-2">
                        <a href="{{ path('app_warning_edit', {'id': warning.id}) }}" 
                           class="inline-flex items-center px-4 py-2 rounded-md text-sm font-medium text-blue-600 dark:text-blue-300 bg-white dark:bg-gray-700 hover:bg-blue-50 dark:hover:bg-gray-600 transition-all duration-300 shadow-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                            </svg>
                            Modifier
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Contenu principal -->
            <div class="p-6 space-y-8">
                <!-- Informations utilisateur avec badge -->
                <div class="bg-blue-50 dark:bg-blue-900/30 rounded-lg p-5 animation-apparition delai-1 transition-colors duration-200">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                        <div class="flex items-center">
                            <div class="rounded-full bg-blue-100 dark:bg-blue-800 p-3 mr-4 transition-colors duration-200">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600 dark:text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                            </div>
                            <div>
                                <p class="text-xs text-blue-500 dark:text-blue-400 uppercase tracking-wider transition-colors duration-200">Utilisateur</p>
                                <p class="font-semibold text-gray-800 dark:text-gray-200 text-lg transition-colors duration-200">{{ warning.user.pseudo }}</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center">
                            <div class="rounded-full bg-blue-100 dark:bg-blue-800 p-3 mr-4 transition-colors duration-200">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600 dark:text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                            </div>
                            <div>
                                <p class="text-xs text-blue-500 dark:text-blue-400 uppercase tracking-wider transition-colors duration-200">Date</p>
                                <p class="font-semibold text-gray-800 dark:text-gray-200 transition-colors duration-200">{{ warning.createdAt|date('d/m/Y H:i') }}</p>
                            </div>
                        </div>
                        
                        <div>
                            <p class="text-xs text-blue-500 dark:text-blue-400 uppercase tracking-wider mb-1 transition-colors duration-200">Statut</p>
                            {% if warning.viewed %}
                                <span class="px-3 py-1 inline-flex items-center rounded-full bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 text-sm transition-colors duration-200">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
                                        <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
                                    </svg>
                                    Lu
                                </span>
                            {% else %}
                                <span class="px-3 py-1 inline-flex items-center rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300 text-sm animate-pulse transition-colors duration-200">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z" clip-rule="evenodd" />
                                        <path d="M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z" />
                                    </svg>
                                    Non lu
                                </span>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <!-- Section motif -->
                <div class="animation-apparition delai-2">
                    <h3 class="text-xs text-blue-500 dark:text-blue-400 uppercase tracking-wider mb-1 flex items-center transition-colors duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                        </svg>
                        Motif
                    </h3>
                    <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 border-l-4 border-blue-500 dark:border-blue-600 transition-colors duration-200">
                        <p class="font-semibold text-gray-800 dark:text-gray-200 transition-colors duration-200">{{ warning.reason }}</p>
                    </div>
                </div>
                
                <!-- Section description -->
                <div class="animation-apparition delai-3">
                    <h3 class="text-xs text-blue-500 dark:text-blue-400 uppercase tracking-wider mb-1 flex items-center transition-colors duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd" />
                        </svg>
                        Description
                    </h3>
                    <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-5 border border-gray-200 dark:border-gray-600 transition-colors duration-200">
                        <p class="text-gray-800 dark:text-gray-200 whitespace-pre-wrap leading-relaxed transition-colors duration-200">{{ warning.description }}</p>
                    </div>
                </div>
                
                <!-- Information modérateur -->
                <div class="animation-apparition delai-3">
                    <h3 class="text-xs text-blue-500 dark:text-blue-400 uppercase tracking-wider mb-1 flex items-center transition-colors duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                        </svg>
                        Modérateur
                    </h3>
                    <div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 flex items-center transition-colors duration-200">
                        <div class="h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-800 flex items-center justify-center mr-3 transition-colors duration-200">
                            <span class="text-blue-600 dark:text-blue-400 font-bold">{{ warning.moderator.pseudo|slice(0, 1)|upper }}</span>
                        </div>
                        <div>
                            <p class="font-medium text-gray-800 dark:text-gray-200 transition-colors duration-200">{{ warning.moderator.pseudo }}</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400 transition-colors duration-200">Modérateur</p>
                        </div>
                    </div>
                </div>
                
                <!-- Boutons d'action -->
                <div class="pt-6 flex flex-col sm:flex-row justify-between items-center border-t border-gray-200 dark:border-gray-700 gap-4 animation-apparition delai-4 transition-colors duration-200">
                    <a href="{{ path('app_warning_index') }}" 
                       class="w-full sm:w-auto inline-flex justify-center items-center px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300 shadow-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                        </svg>
                        Retour à la liste
                    </a>
                    
                    <form method="post" action="{{ path('app_warning_delete', {'id': warning.id}) }}" 
                          onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cet avertissement ?');"
                          class="w-full sm:w-auto">
                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ warning.id) }}">
                        <button type="submit" 
                                class="w-full bouton-danger inline-flex justify-center items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2  focus:ring-red-500 dark:focus:ring-offset-gray-900 focus:ring-offset-2 transition-all duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
                            </svg>
                            Supprimer
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Observer pour les animations au scroll
        const animatedElements = document.querySelectorAll('.animation-apparition, .animation-glissement');
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animationPlayState = 'running';
                    observer.unobserve(entry.target);
                }
            });
        }, {threshold: 0.1});
        
        animatedElements.forEach(el => {
            el.style.animationPlayState = 'paused';
            observer.observe(el);
        });
    });
</script>
{% endblock %}